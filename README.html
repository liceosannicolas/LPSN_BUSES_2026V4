<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>GuÃ­a â€¢ Transporte Escolar</title>
  <link rel="stylesheet" href="assets/css/styles.css"/>
</head>
<body>

<div class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <div class="logo"></div>
      <div class="brand-title">
        <strong>ğŸ“˜ GuÃ­a rÃ¡pida</strong>
        <small>Transporte Escolar â€¢ Sync oficial</small>
      </div>
    </div>
    <div class="controls">
      <a class="btn ghost" href="index.html">â¬…ï¸ Volver</a>
      <button class="btn" onclick="TE.speakAll()">ğŸ—£ï¸</button>
      <button class="btn" onclick="TE.toggleTheme()">ğŸŒ“</button>
      <button class="btn" onclick="TE.toggleContrast()">ğŸŒ—</button>
      <button class="btn" onclick="TE.fontUp()">A+</button>
      <button class="btn" onclick="TE.fontDown()">Aâˆ’</button>
      <a class="btn" href="app/settings.html">âš™ï¸ Sync</a>
    </div>
  </div>
</div>

  <div class="container">
    <div class="card">
      <pre style="white-space:pre-wrap; margin:0"># Transporte Escolar â€” v3 (Sync oficial)

## Objetivo
- Digitador escribe el **RUT**
- El sistema trae la ficha desde `Estudiantes`
- Selecciona `BusID` + `Recorrido`
- Guarda centralizado y ademÃ¡s crea/actualiza la **hoja del bus**: `BUS_&lt;ID&gt;`

## Hojas (se crean automÃ¡ticamente)
- Estudiantes
- Buses
- Asignaciones
- En_espera
- BUS_&lt;ID&gt;

## Apps Script (setup)
1. Crea un Google Sheet (vacÃ­o o existente).
2. Extensiones â†’ Apps Script â†’ pega `backend/AppsScript.gs`.
3. En Apps Script â†’ Project Settings â†’ Script Properties:
   - API_KEY = tu clave (ej: NEOTECH-TRANSPORTE-2026-XXXX)
4. Deploy â†’ New deployment â†’ Web app:
   - Execute as: Me
   - Who has access: Anyone with the link
5. Copia la URL `/exec`.

## Sitio
- En `app/settings.html` pega URL + API key.
- Carga nÃ³mina: `tools/importer_sync.html`.
- Administra buses desde la hoja `Buses` (manual, por ahora):
  - BusID | Nombre | Recorrido | Capacidad

## Cupos y rezagados
Si el bus alcanza la capacidad, la asignaciÃ³n queda:
- En `En_espera` (y el estado tambiÃ©n se refleja en `Asignaciones` como EN_ESPERA).

## Nota
El login del sitio es **local** (UX). La protecciÃ³n real es:
- API key en Apps Script
- Lista de correos permitidos (ALLOWED_EMAILS).
</pre>
    </div>
  </div>
  <script src="assets/js/common.js"></script>
</body>
</html>
